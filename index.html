<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neslinur Kalkan - Electronics & Math Engineering</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css" />
    <link href='https://fonts.googleapis.com/css?family=Fauna+One' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" />
    <style>
        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Fauna One', serif;
            font-size: 20px;
        }

        li {
            list-style: none;
        }

        a {
            color: white;
            text-decoration: none;
        }

        a:hover, a:focus {
            color: white;
            text-decoration: none;
        }

        h1 {
            color: white;
            text-align: center;
            margin-top: 4%;
            font-size: 412.5%;
        }

        h1 > small {
            display: block;
            color: white;
            font-size: 30%;
            margin-top: 20px;
        }

        h2 {
            font-size: 245%;
            margin-top: 140px;
        }

        h2:after {
            display: block;
            margin: 42px 0;
            content: "";
        }

        h3 {
            font-weight: bold;
            margin-top: 30px;
        }

        h4 {
            font-size: 120%;
            margin-bottom: 10px;
        }

        .logo {
            font-size: 230%;
            font-family: 'Brush Script MT', cursive;
        }

        .noir {
            display: inline-block;
            background-color: black;
            padding: 18px;
            border: 3px solid white;
            margin: 5px;
        }

        .vertical-list li {
            float: left;
        }

        .overlay {
            background-color: rgba(4,14,22,.83);
            height: 100%;
            width: 100%;
            padding-bottom: 80px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 40px;
        }

        /* HOME SECTION */
        #home {
            background: url("https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=1600") no-repeat;
            width: 100%;
            background-size: cover;
            background-position: center;
            min-height: 100vh;
        }

        #home nav {
            margin: 0 auto;
            max-width: 800px;
            padding-top: 80px;
        }

        #home nav ul {
            overflow: hidden;
            display: flex;
            justify-content: center;
        }

        #home nav ul li {
            flex: 1;
        }

        #home nav a {
            padding: 16px 30px;
            display: block;
            text-align: center;
            transition: background-color 0.3s;
        }

        #home nav a:hover {
            background-color: rgba(255,255,255,0.1);
        }

        #home nav.fixed {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color:rgba(0, 0, 0, 0.95);
            z-index: 999;
            padding: 0;
            transition: background-color .8s;
        }

        #home nav.fixed ul {
            max-width: 800px;
            margin: 0 auto;
        }

        .social-links {
            margin-top: 100px;
            overflow: hidden;
            padding: 0;
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        .linkedin {
            border-color: #0077b5;
        }

        .email {
            border-color: #ea4335;
        }

        .strava {
            border-color: #fc4c02;
        }

        .linkedin:hover {
            background-color: #0077b5;
            transition: background-color .4s;
        }

        .email:hover {
            background-color: #ea4335;
            transition: background-color .4s;
        }

        .:hover {
            background-color: #fc4c02;
            transition: background-color .4s;
        }

        /* ABOUT SECTION */
        #about {
            background-color: #f4f4f4;
            padding: 80px 0;
        }

        #about::before {
            height: 0px;
            width: 0px;
            border-left: 30px solid transparent;
            border-right: 30px solid transparent;
            border-top: 30px solid #131c23;
            margin: 0 auto;
            content: "";
            display: block;
        }

        #about h2 {
            color: #0d2435;
        }

        #about h2::after {
            border-bottom: 2px dashed #918D8D;
        }

        #about .info {
            display: flex;
            gap: 40px;
            align-items: center;
        }

        #about .info p {
            line-height: 180%;
            margin-bottom: 20px;
        }

        #about img {
            width: 250px;
            height: 250px;
            border-radius: 50%;
            object-fit: cover;
        }

        .signature {
            font-family: 'Brush Script MT', cursive;
            font-size: 150%;
            float: right;
            color: #0d2435;
            opacity: .9;
            margin-top: 20px;
        }

        /* SKILLS */
        .skills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .skill-category {
            padding: 20px;
            color: white;
            border-radius: 5px;
        }

        .skill-category h4 {
            margin-bottom: 15px;
        }

        .skill-category ul li {
            padding: 8px 0;
            float: none;
        }

        .web-dev {
            background-color: #114190;
        }

        .programming {
            background-color: #e11a61;
        }

        .tools {
            background-color: #9d1098;
        }

        /* EXPERIENCE SECTION */
        #experience {
            background-color: #423a3a;
            padding: 80px 0;
            color: white;
        }

        #experience h2 {
            color: #F0F0F0;
        }

        #experience h2:after {
            border-bottom: 2px dashed #b4b4b4;
        }

        .experience-item {
            background-color: #3D3636;
            padding: 30px;
            margin-bottom: 30px;
            border-left: 5px solid #114190;
        }

        .experience-item h3 {
            color: #F0F0F0;
        }

        .experience-item .date {
            color: #b4b4b4;
            font-style: italic;
            margin-bottom: 15px;
        }

        .experience-item ul {
            margin-top: 15px;
        }

        .experience-item ul li {
            float: none;
            padding: 8px 0;
            padding-left: 20px;
            position: relative;
        }

        .experience-item ul li:before {
            content: "‚ñ∏";
            position: absolute;
            left: 0;
        }

        /* CERTIFICATIONS SECTION */
        #certifications {
            background-color: #f4f4f4;
            padding: 80px 0;
        }

        #certifications h2 {
            color: #0d2435;
        }

        #certifications h2::after {
            border-bottom: 2px dashed #918D8D;
        }

        .cert-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 40px;
        }

        .cert-item {
            background-color: white;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-left: 4px solid #114190;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .cert-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .cert-item h4 {
            color: #0d2435;
            margin-bottom: 10px;
            font-size: 110%;
        }

        .cert-org {
            color: #114190;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .cert-desc {
            color: #666;
            font-size: 90%;
            line-height: 160%;
        }

        /* SPORTS SECTION */
        #sports {
            background-color: #423a3a;
            padding: 80px 0;
            color: white;
        }

        #sports h2 {
            color: #F0F0F0;
        }

        #sports h2::after {
            border-bottom: 2px dashed #b4b4b4;
        }

        #map {
            height: 500px;
            width: 100%;
            margin-top: 40px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .stat-card {
            background-color: #3D3636;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            text-align: center;
            border: 2px solid #114190;
        }

        .stat-card h3 {
            color: #fc4c02;
            font-size: 250%;
            margin-bottom: 10px;
        }

        .stat-card p {
            color: #F0F0F0;
        }

        .achievements {
            margin-top: 40px;
        }

        .achievement-item {
            background-color: #3D3636;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 5px solid #fc4c02;
            border-radius: 5px;
        }

        .achievement-item h4 {
            color: #F0F0F0;
        }

        .achievement-item p {
            color: #b4b4b4;
        }

        .strava-connect-btn {
            background-color: #fc4c02;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
            margin-top: 20px;
            font-family: 'Fauna One', serif;
        }

        .strava-connect-btn:hover {
            background-color: #e04402;
        }

        .strava-status {
            margin-top: 20px;
            padding: 15px;
            background-color: #3D3636;
            border-radius: 5px;
            color: #F0F0F0;
        }

        /* CONTACT SECTION */
        #contact {
            background: url("https://images.unsplash.com/photo-1526778548025-fa2f459cd5c1?w=1600") no-repeat;
            background-size: cover;
            background-position: center;
        }

        #contact .overlay {
            background: rgba(0,0,0,.968);
        }

        #contact h2 {
            color: white;
        }

        #contact h2:after {
            border-bottom: 2px dashed white;
        }

        #contact form {
            margin-top: 40px;
        }

        #contact .form-group {
            margin-bottom: 25px;
        }

        #contact .form-group label {
            display: block;
            color: white;
            font-weight: normal;
            margin-bottom: 10px;
        }

        #contact .form-group input,
        #contact .form-group textarea {
            width: 100%;
            outline: none;
            border: 0;
            border-bottom: 6px solid #114190;
            padding: 15px;
            background-color: #2b2b2b;
            color: white;
            font-family: 'Fauna One', serif;
        }

        #contact .form-group textarea {
            resize: vertical;
            min-height: 150px;
        }

        #contact button {
            background-color: black;
            color: white;
            border: 3px solid white;
            padding: 18px 40px;
            cursor: pointer;
            font-family: 'Fauna One', serif;
            font-size: 18px;
        }

        #contact button:hover {
            background-color: white;
            color: black;
            transition: background-color .4s;
        }

        /* RESPONSIVE */
        @media screen and (max-width: 768px) {
            body {
                font-size: 16px;
            }

            h1 {
                font-size: 250%;
            }

            h2 {
                font-size: 180%;
                margin-top: 80px;
            }

            #home nav {
                width: 100%;
                padding-top: 40px;
            }

            #home nav ul {
                flex-wrap: wrap;
            }

            #home nav ul li {
                width: 50%;
            }

            #about .info {
                flex-direction: column-reverse;
                text-align: center;
            }

            #about img {
                width: 200px;
                height: 200px;
            }

            .signature {
                float: none;
            }

            .social-links {
                flex-direction: column;
                align-items: center;
            }

            .social-links li {
                width: 80%;
            }

            .noir {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- HOME -->
    <section id="home">
        <div class="overlay">
            <nav role="navigation">
                <ul class="vertical-list">
                    <li><a href="#home">Home</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#experience">Experience</a></li>
                    <li><a href="#certifications">Certifications</a></li>
                    <li><a href="#sports">Sports</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>

            <div class="container">
                <h1>
                    <span class="logo">Neslinur Kalkan</span>
                    <small>Electronics & Mathematical Engineering</small>
                </h1>
                <ul class="social-links">
                    <li><a href="https://www.linkedin.com/in/neslinur-kalkan-562422218" class="noir linkedin" target="_blank">LinkedIn</a></li>
                    <li><a href="mailto:neslinurkalkan24@gmail.com" class="noir email">Email</a></li>
                </ul>
            </div>
        </div>
    </section>

    <!-- ABOUT -->
    <section id="about">
        <div class="container">
            <h2>about me...</h2>
            <div class="info">
                <div>
                    <p>
                        Double-major student in Electronics and Communication Engineering and Mathematical Engineering at Istanbul Technical University, combining analytical thinking with creativity from my background in sports and arts. Experienced in data analysis, optimization, and applied machine learning, driven to apply theoretical knowledge to real-world industry problems.
                    </p>
                    <p>
                        As a former national orienteering athlete who competed at JWOC 2022 in Portugal, I bring the same precision and problem-solving mindset to engineering challenges. Currently exploring the intersection of GPS technology, data science, and real-world applications through internships at leading tech companies.
                    </p>
                    <p>
                        <strong>Morehead-Cain Global Scholars Fellowship Finalist</strong> - Recognized for leadership, scholarship, character, and physical vigor.
                    </p>
                    <span class="signature">.neslinur kalkan</span>
                </div>
                <img src="ben.jpg" alt="Neslinur Kalkan">
            </div>

            <div class="skills-grid">
                <div class="skill-category web-dev">
                    <h4>Web Development</h4>
                    <ul>
                        <li>HTML/CSS</li>
                        <li>JavaScript</li>
                        <li>Responsive Design</li>
                    </ul>
                </div>
                <div class="skill-category programming">
                    <h4>Programming</h4>
                    <ul>
                        <li>Python (pandas, NumPy, scikit-learn)</li>
                        <li>C/C++ (Embedded)</li>
                        <li>MATLAB/Simulink</li>
                        <li>SQL (AWS Redshift)</li>
                    </ul>
                </div>
                <div class="skill-category tools">
                    <h4>Tools & Technologies</h4>
                    <ul>
                        <li>Machine Learning</li>
                        <li>Data Analysis</li>
                        <li>GPS & Localization</li>
                        <li>Amazon AWS</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- EXPERIENCE -->
    <section id="experience">
        <div class="container">
            <h2>experience...</h2>

            <div class="experience-item">
                <h3>Data Science Intern</h3>
                <div class="date">TikTak | Sep 2025 ‚Äì Present</div>
                <ul>
                    <li>Conducted exploratory data analysis and RFM segmentation on car-rental records using Python</li>
                    <li>Queried and managed large datasets on Amazon AWS Redshift (SQL)</li>
                    <li>Generated actionable insights for operations‚Äîidentifying high-revenue routes and pricing strategies</li>
                </ul>
            </div>

            <div class="experience-item">
                <h3>Engineer Intern</h3>
                <div class="date">ASELSAN | July 2025 - August 2025</div>
                <ul>
                    <li>Assisted in the design and analysis of guidance systems for missile applications</li>
                    <li>Supported the modeling and simulation of guidance algorithms using MATLAB/Simulink</li>
                    <li>Observed integration workflows between guidance, control, and navigation subsystems</li>
                </ul>
            </div>

            <div class="experience-item">
                <h3>Laboratory Intern</h3>
                <div class="date">ITU Railway Systems Laboratory | Dec 2024 ‚Äì July 2025</div>
                <ul>
                    <li>Conducting research on driving systems, vehicle positioning, and GPS improvement</li>
                    <li>Developing a project focused on optimizing rail transportation technologies</li>
                    <li>Utilizing advanced localization and navigation techniques to enhance system efficiency</li>
                </ul>
            </div>

            <div class="experience-item">
                <h3>Engineer Intern</h3>
                <div class="date">TUBITAK BILGEM | Sep 2024 - Oct 2024</div>
                <ul>
                    <li>Gained hands-on experience in configuring I/O functionalities in MCUs at C++ level</li>
                    <li>Implemented precise timing mechanisms within UART communication protocols</li>
                    <li>Developed strong skills in embedded programming and data retrieval</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- CERTIFICATIONS -->
    <section id="certifications">
        <div class="container">
            <h2>certifications & achievements...</h2>

            <div class="cert-grid">
                <div class="cert-item">
                    <h4>üéì Morehead-Cain Global Scholars Fellowship</h4>
                    <p class="cert-org">Finalist</p>
                    <p class="cert-desc">Recognized for leadership, scholarship, character, and physical vigor</p>
                </div>

                <div class="cert-item">
                    <h4>ü§ñ Artificial Intelligence Expertise Program</h4>
                    <p class="cert-org">TUBITAK, Ar√ßelik, Baykar, Cezeri</p>
                    <p class="cert-desc">Specialized training in AI innovation and applications (2024)</p>
                </div>

                <div class="cert-item">
                    <h4>üìä Supervised Machine Learning: Regression and Classification</h4>
                    <p class="cert-org">Coursera</p>
                    <p class="cert-desc">Nov 2025</p>
                </div>

                <div class="cert-item">
                    <h4>üéÆ Control Design Onramp with Simulink</h4>
                    <p class="cert-org">MathWorks</p>
                    <p class="cert-desc">Jan 2024</p>
                </div>

                <div class="cert-item">
                    <h4>üìà Simulink Onramp</h4>
                    <p class="cert-org">MathWorks</p>
                    <p class="cert-desc">Nov 2023</p>
                </div>

                <div class="cert-item">
                    <h4>üèÉ‚Äç‚ôÄÔ∏è Licensed Athlete</h4>
                    <p class="cert-org">Istanbul Orienteering Sports Club</p>
                    <p class="cert-desc">National level competitor (2021)</p>
                </div>

                <div class="cert-item">
                    <h4>üß≠ Level 1 Orienteering Coach</h4>
                    <p class="cert-org">Turkish Orienteering Federation</p>
                    <p class="cert-desc">Certified orienteering instructor</p>
                </div>

                <div class="cert-item">
                    <h4>üöÄ CAMPus Engineering Program</h4>
                    <p class="cert-org">ROKETSAN</p>
                    <p class="cert-desc">Learning and Development Camp for Engineers</p>
                </div>
            </div>
        </div>
    </section>

    <!-- SPORTS -->
    <section id="sports">
        <div class="container">
            <h2>athletic journey...</h2>

            <div class="stats-grid">
                <div class="stat-card">
                    <h3 id="totalDistance">-</h3>
                    <p>Total Distance (km)</p>
                </div>
                <div class="stat-card">
                    <h3 id="totalActivities">-</h3>
                    <p>Total Activities</p>
                </div>
                <div class="stat-card">
                    <h3>5+</h3>
                    <p>Variety of Sports</p>
                </div>
            </div>

            <div style="text-align: center;">
            </div>

            <div id="map"></div>

            <div class="achievements">
                <h3>Achievements & Activities</h3>
                <div class="achievement-item">
                    <h4>üèÉ‚Äç‚ôÄÔ∏è Orienteering</h4>
                    <p>Competed at JWOC 2022 in Portugal, Turkish National Champion, combining physical endurance with navigation skills and GPS technology understanding</p>
                </div>
                <div class="achievement-item">
                    <h4>üß≠ ITU Orienteering Team</h4>
                    <p>Served as Chairperson (2022-2023) and Audit Board Member (2024-2025), leading team to national championships</p>
                </div>
                <div class="achievement-item">
                    <h4>üåä Nature Sports</h4>
                    <p>Active in running, scuba diving, camping, and various outdoor activities. Passionate about exploring nature through sports</p>
                </div>
            </div>

            <div style="margin-top: 60px;">
                <h3>Hobbies & Interests</h3>
                <div class="stats-grid" style="margin-top: 30px;">
                    <div class="stat-card">
                        <h3>üé∏</h3>
                        <p>Guitar & Ukulele</p>
                    </div>
                    <div class="stat-card">
                        <h3>üé®</h3>
                        <p>Painting</p>
                    </div>
                    <div class="stat-card">
                        <h3>üì∑</h3>
                        <p>Photography</p>
                    </div>
                    <div class="stat-card">
                        <h3>üèïÔ∏è</h3>
                        <p>Camping & Outdoors</p>
                    </div>
                    <div class="stat-card">
                        <h3>‚úàÔ∏è</h3>
                        <p>Travel - 18 Countries</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CONTACT -->
    <section id="contact">
        <div class="overlay">
            <div class="container">
                <h2>get in touch...</h2>

                <form>
                    <div class="form-group">
                        <label for="name">Your Name</label>
                        <input type="text" id="name" name="name" required>
                    </div>

                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <input type="email" id="email" name="email" required>
                    </div>

                    <div class="form-group">
                        <label for="subject">Subject</label>
                        <input type="text" id="subject" name="subject" required>
                    </div>

                    <div class="form-group">
                        <label for="message">Message</label>
                        <textarea id="message" name="message" required></textarea>
                    </div>

                    <button type="submit">Send Message</button>
                </form>
            </div>
        </div>
    </section>
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mapbox-polyline/1.1.1/polyline.min.js"></script>
<script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>

<script>
    // --- AYARLAR (BURAYI DOLDUR) ---
    const stravaConfig = {
        clientId: '197029', 
        clientSecret: '1fd68c2e2b4e0f1a9b1536c0ccd20487b7413152',     
        refreshToken: '92a9c54720c917d89a7d4c3e35bc0b9d553761db'      
    };

    // --- HARƒ∞TA BA≈ûLATMA ---
    const map = L.map('map').setView([41.0082, 28.9784], 10);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '¬© OpenStreetMap contributors'
    }).addTo(map);

    // --- K√úMELEME (CLUSTER) GRUBU OLU≈ûTUR ---
    // ƒ∞≈üte o "115" yazan yuvarlaklarƒ± bu satƒ±r yapƒ±yor
    const markers = L.markerClusterGroup();

    // --- YARDIMCI FONKSƒ∞YONLAR ---
    async function getAccessToken() {
        try {
            const response = await fetch('https://www.strava.com/oauth/token', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    client_id: stravaConfig.clientId,
                    client_secret: stravaConfig.clientSecret,
                    refresh_token: stravaConfig.refreshToken,
                    grant_type: 'refresh_token'
                })
            });
            const data = await response.json();
            return data.access_token;
        } catch (error) {
            console.error("Token hatasƒ±:", error);
            return null;
        }
    }

    function updateStatsUI(totalDist, totalCount) {
        document.getElementById('totalDistance').innerText = Math.floor(totalDist / 1000); 
        document.getElementById('totalActivities').innerText = totalCount;
    }

    // --- ANA FONKSƒ∞YON (T√úM VERƒ∞LERƒ∞ √áEK) ---
    async function loadAllStravaData() {
        const token = await getAccessToken();
        if (!token) return;

        let page = 1;
        let allActivities = [];
        let keepFetching = true;
        
        // G√ºvenlik limiti: En fazla 5 sayfa √ßek (Yakla≈üƒ±k 1000 aktivite)
        const maxPages = 5; 

        while (keepFetching && page <= maxPages) {
            try {
                // Sayfa sayfa veri √ßek (Her sayfada 200 aktivite)
                const response = await fetch(`https://www.strava.com/api/v3/athlete/activities?per_page=200&page=${page}`, {
                    headers: { 'Authorization': `Bearer ${token}` }
                });
                const activities = await response.json();

                if (activities.length === 0) {
                    keepFetching = false;
                } else {
                    allActivities = allActivities.concat(activities);
                    page++;
                }
            } catch (err) {
                console.error("Veri √ßekme hatasƒ±:", err);
                keepFetching = false;
            }
        }

        console.log(`Toplam ${allActivities.length} aktivite √ßekildi.`);
        
        let totalDistance = 0;
        let bounds = [];

        allActivities.forEach(activity => {
            totalDistance += activity.distance;

            if (activity.map && activity.map.summary_polyline) {
                try {
                    const coordinates = polyline.decode(activity.map.summary_polyline);
                    
                    if (coordinates.length > 0) {
                        // 1. ROTAYI √áƒ∞Z (√áizgi haritaya direkt eklenir)
                        L.polyline(coordinates, {
                            color: '#fc4c02', // Turuncu √ßizgi
                            weight: 3,        
                            opacity: 0.6      
                        }).addTo(map);

                        // 2. PIN'I K√úMELEME GRUBUNA EKLE (Haritaya deƒüil, 'markers' grubuna)
                        const marker = L.marker(coordinates[0]).bindPopup(`
                            <b>${activity.name}</b><br>
                            üèÅ ${(activity.distance / 1000).toFixed(2)} km<br>
                            üìÖ ${new Date(activity.start_date).toLocaleDateString()}
                        `);
                        markers.addLayer(marker); // <-- P√ºf noktasƒ± burasƒ±!
                        
                        bounds.push(coordinates);
                    }
                } catch (e) {
                    // Hata olursa ge√ß
                }
            }
        });

        // 3. EN SONDA K√úMEYƒ∞ HARƒ∞TAYA BAS
        map.addLayer(markers);

        // ƒ∞statistikleri g√ºncelle
        updateStatsUI(totalDistance, allActivities.length);

        // Haritayƒ± ortala
        if (bounds.length > 0) {
            const allPoints = bounds.flat();
            map.fitBounds(allPoints);
        }
    }

    // Ba≈ülat
    loadAllStravaData();

    // Navigasyon Kodlarƒ± (Aynen Kalabilir)
    document.querySelectorAll('nav a').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            target.scrollIntoView({ behavior: 'smooth' });
        });
    });

    const nav = document.querySelector('nav');
    window.addEventListener('scroll', () => {
        if (window.scrollY > 100) nav.classList.add('fixed');
        else nav.classList.remove('fixed');
    });
</script>
